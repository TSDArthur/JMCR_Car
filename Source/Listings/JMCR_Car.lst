C51 COMPILER V9.59.0.0   JMCR_CAR                                                          02/12/2019 22:33:39 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE JMCR_CAR
OBJECT MODULE PLACED IN .\Objects\JMCR_Car.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE USER\JMCR_Car.c LARGE OPTIMIZE(8,SPEED) BROWSE INCDIR(.\HARDWARE;.\LIB) 
                    -DEBUG OBJECTEXTEND PRINT(.\Listings\JMCR_Car.lst) TABS(2) OBJECT(.\Objects\JMCR_Car.obj)

line level    source

   1          #include "STC15.h"
   2          #include "IO.h"
   3          #include "PWM.h"
   4          #include "STDFUNC.h"
   5          #include "USART.h"
   6          #include "PID.h"
   7          #include "MOTOR.h"
   8          #include "SERVO.h"
   9          #include "SENSOR.h"
  10          
  11          u8 callControl = 0;
  12          
  13          //2ms@24.0000Mhz
  14          void Timer2Init(void)
  15          {
  16   1        AUXR |= 0x04;
  17   1        T2L = 0x80;
  18   1        T2H = 0x44;
  19   1        AUXR |= 0x10;
  20   1        EA = 1;
  21   1      }
  22          
  23          void Timer2_ISP() interrupt 12
  24          {
  25   1        callControl = 1;
  26   1      }
  27          
  28          //Car Main Control
  29          void JMCR_Car()
  30          {
  31   1        PID_Calc(Sensor_GetData());
  32   1        ServoSetAngle(PIDservoAngle);
  33   1        Motor_Left(leftMotorPWM);
  34   1        Motor_Right(rightMotorPWM);
  35   1        callControl = 0;
  36   1      }
  37          
  38          void main()
  39          {
  40   1        //Init Devices
  41   1        ServoAttach(4, 5);
  42   1        Motor_Init();
  43   1        Sensor_Init();
  44   1        PID_Setup(2, 0.01, 0.2);
  45   1        //Cold Start
  46   1        JMCR_Car();
  47   1        //Init Timer2
  48   1        Timer2Init();
  49   1        while(1)
  50   1        {
  51   2          if(callControl)JMCR_Car();
  52   2        }
  53   1      }
  54          
C51 COMPILER V9.59.0.0   JMCR_CAR                                                          02/12/2019 22:33:39 PAGE 2   



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    137    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =      1    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
